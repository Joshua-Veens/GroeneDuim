class a{isLoggedIn(){return window.localStorage.getItem("token")!==null}async login(e,o){const t=await fetch("/api/authentication/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:o})});if(t.ok){const r=await t.json();return window.localStorage.setItem("token",r.JWT),Promise.resolve()}else{const r=await t.json();return Promise.reject(r.error||"Login failed")}}async getUser(){const e=window.localStorage.getItem("token");if(!e)return Promise.resolve(null);const o=await fetch("/api/authentication/validate",{method:"GET",headers:{Authorization:`Bearer ${e}`}});return o.ok?o.json():(this.logout(),Promise.resolve(null))}logout(){return window.localStorage.removeItem("token"),Promise.resolve()}}export{a as L};
//# sourceMappingURL=loginService-C4Qp4EcO.js.map
